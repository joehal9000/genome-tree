<!--Wajdi Halabi -->
<!--July 2018 -->
<!--Tangviz- Clemson University -->
<!--Provide Paper.JS functionality to Orthomam figure -->
<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="paper.js"></script>
	<script type="text/paperscript" canvas="myCanvas">
		// TODO: Fix the SVG, possibly a result of weird masking.
		// var svgX1 = project.importSVG("http://vm.local/genomic-tree-v2.svg",
		function hover(){
			console.log("hover!");
		}
		var svgX1 = project.importSVG("http:/vm.local/genomic-tree-v5.svg",
			onLoad = function() {
				console.log('Sucessfully loaded SVG!');
				var top = project.getItems({name: "top"}); //All the animals are in this layer
				var bottom = project.getItems({name: "bottom"}); //All the animals are in this layer
				// console.log(animals[0].children.length);


				//Add interactive features
				var origColor = bottom[0].children[0].fillColor;
				var len = top[0].children.length ;
				for (i = 0; i < len; i++) {
					top[0].children[i].bottom = bottom[0].children[i];
					console.log(top[0].children[i].bottom);
					// top[0].children[i].bottom.fillColor = "#FF0000"
					top[0].children[i].onClick = function() {
						this.bottom.fillColor = this.isClicked ? origColor : new Color(0,1,0);
						this.isClicked = !this.isClicked;
						// this.lastChild.stroke = 10;
					};//END onCicked
					top[0].children[i].onMouseEnter = function() {
						// var point = new Point(0, -4);
						// this.position += point;
						this.bottom.fillColor = "#FF0000";
						// this.shadowOffset = new Point(5,5)
						// this.shadowColor = this.firstChild.fillColor;
						// this.shadowBlur = "12";
					}; //END enter
					top[0].children[i].onMouseLeave = function() {
						this.bottom.fillColor = !this.isClicked ? origColor : new Color(0,1,0);
						// var point = new Point(0, 4);
						// this.position += point;
						// this.shadowColor = null;
					}; //end Leave
				} //end for loop

				// var i = 0;
				// var origColor;
				// console.log(animals[0].children[i].children[0]);
				// // animals[0].children[i].children[0].fillColor = "#FFFFFF"
				// animals[0].children[i].onClick = function() {
				// 	this.strokeColor = this.isClicked ? null : new Color(0,1,0);
				// 	this.lastChild.stroke = 10;
				// 	this.isClicked = !this.isClicked;
				// 	console.log("Human");
				// };//END onCicked
				// animals[0].children[i].onMouseEnter = function() {
				// 	hover();
				// 	var point = new Point(0, -4);
				// 	// this.position += point;
				// 	this.shadowOffset = new Point(5,5)
				// 	// this.shadowColor = this.firstChild.fillColor;
				// 	origColor = this.firstChild.fillColor;
				// 	this.firstChild.fillColor = "27489e";
				// 	this.shadowBlur = "12";
				// }; //END enter
				// animals[0].children[i].onMouseLeave = function() {
				// 	var point = new Point(0, 4);
				// 	// this.position += point;
				// 	this.shadowColor = null;
				// 	this.firstChild.fillColor = origColor;
				//
				// }; //end Leave


			} //
		);
	</script>
</head>
<body>
	<canvas
		id="myCanvas" width="1000" height="1000">
	</canvas>
</body>
</html>
